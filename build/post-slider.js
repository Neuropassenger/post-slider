(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.i18n,s=window.wp.blockEditor,o=window.wp.components,r=window.wp.data,a=window.wp.coreData,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"post-slider/slider","title":"Post Slider","category":"widgets","icon":"slides","description":"Слайдер постов блога","keywords":["slider","posts","blog"],"version":"1.0.0","textdomain":"post-slider","attributes":{"postsCount":{"type":"number","default":5},"order":{"type":"string","default":"DESC"},"orderBy":{"type":"string","default":"date"},"categories":{"type":"array","default":[]}},"supports":{"html":false,"align":["full"]},"editorScript":"file:../../build/post-slider.js","editorStyle":"file:../../assets/css/post-slider-editor.css","style":"file:../../assets/css/post-slider.css"}');(0,t.registerBlockType)(i.name,{...i,edit:({attributes:t,setAttributes:i})=>{const{postsCount:n,order:d,orderBy:p,categories:c}=t,u=(0,s.useBlockProps)({className:"post-slider-editor"}),m=(0,r.useSelect)((e=>e(a.store).getEntityRecords("taxonomy","category",{per_page:-1})),[]),_=m?m.map((e=>({label:e.name,value:e.id}))):[];return(0,e.createElement)("div",{...u},(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(o.PanelBody,{title:(0,l.__)("Настройки слайдера","post-slider"),initialOpen:!0},(0,e.createElement)(o.RangeControl,{label:(0,l.__)("Количество постов","post-slider"),value:n,onChange:e=>i({postsCount:e}),min:1,max:10}),(0,e.createElement)(o.SelectControl,{label:(0,l.__)("Сортировка","post-slider"),value:d,options:[{label:(0,l.__)("По убыванию","post-slider"),value:"DESC"},{label:(0,l.__)("По возрастанию","post-slider"),value:"ASC"}],onChange:e=>i({order:e})}),(0,e.createElement)(o.SelectControl,{label:(0,l.__)("Сортировать по","post-slider"),value:p,options:[{label:(0,l.__)("Дате","post-slider"),value:"date"},{label:(0,l.__)("Заголовку","post-slider"),value:"title"},{label:(0,l.__)("Популярности","post-slider"),value:"comment_count"}],onChange:e=>i({orderBy:e})}),_.length>0&&(0,e.createElement)(o.SelectControl,{multiple:!0,label:(0,l.__)("Категории","post-slider"),value:c,options:_,onChange:e=>i({categories:e})}))),(0,e.createElement)("div",{className:"post-slider-editor-preview"},(0,e.createElement)("div",{className:"post-slider-editor-placeholder"},(0,e.createElement)("h2",null,(0,l.__)("Слайдер постов","post-slider")),(0,e.createElement)("p",null,(0,l.__)("Отображает слайдер с последними постами блога.","post-slider")),(0,e.createElement)("p",null,(0,l.__)(`Выбрано постов: ${n}`,"post-slider")))))},save:()=>null})})();